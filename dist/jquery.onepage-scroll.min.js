!function(a){"use strict";var b={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1};a.fn.swipeEvents=function(){return this.each(function(){function b(a){var b=a.originalEvent.touches;b&&b.length&&(d=b[0].pageX,e=b[0].pageY,f.bind("touchmove",c)),a.preventDefault()}function c(a){var b=a.originalEvent.touches;if(b&&b.length){var g=d-b[0].pageX,h=e-b[0].pageY;g>=50&&f.trigger("swipeLeft"),-50>=g&&f.trigger("swipeRight"),h>=50&&f.trigger("swipeUp"),-50>=h&&f.trigger("swipeDown"),(Math.abs(g)>=50||Math.abs(h)>=50)&&f.unbind("touchmove",c)}a.preventDefault()}var d,e,f=a(this);f.bind("touchstart",b)})},a.fn.onepage_scroll=function(c){function d(a,b){var c=b,d=(new Date).getTime();return d-j<k+e.animationTime?(a.preventDefault(),void 0):(0>c?f.moveDown():f.moveUp(),j=d,void 0)}var e=a.extend({},b,c),f=a(this),g=a(e.sectionContainer),h=g.length,i=0,j=0,k=500,l="";if(a.fn.transformPage=function(b,c,d){a(this).css({"-webkit-transform":"translate3d(0, "+c+"%, 0)","-webkit-transition":"all "+b.animationTime+"ms "+b.easing,"-moz-transform":"translate3d(0, "+c+"%, 0)","-moz-transition":"all "+b.animationTime+"ms "+b.easing,"-ms-transform":"translate3d(0, "+c+"%, 0)","-ms-transition":"all "+b.animationTime+"ms "+b.easing,transform:"translate3d(0, "+c+"%, 0)",transition:"all "+b.animationTime+"ms "+b.easing}),a(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){"function"==typeof b.afterMove&&b.afterMove(d)})},a.fn.moveDown=function(){var b,c,d,f,g;if(b=a(this),c=a(e.sectionContainer+".active").data("index"),d=a(e.sectionContainer+"[data-index='"+c+"']"),f=a(e.sectionContainer+"[data-index='"+(c+1)+"']"),f.length<1){if(e.loop!==!0)return;g=0,f=a(e.sectionContainer+"[data-index='1']")}else g=-1*100*c;if("function"==typeof e.beforeMove&&e.beforeMove(d.data("index")),d.removeClass("active"),f.addClass("active"),e.pagination===!0&&(a(".onepage-pagination li a[data-index='"+c+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+f.data("index")+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+f.data("index")),window.history.replaceState&&e.updateURL===!0){var h=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(c+1);window.history.pushState({},window.document.title,h)}b.transformPage(e,g,c)},a.fn.moveUp=function(){var b,c,d,f,g;if(b=a(this),c=a(e.sectionContainer+".active").data("index"),d=a(e.sectionContainer+"[data-index='"+c+"']"),f=a(e.sectionContainer+"[data-index='"+(c-1)+"']"),f.length<1){if(e.loop!==!0)return;g=-1*100*(h-1),f=a(e.sectionContainer+"[data-index='"+h+"']")}else g=-1*100*(f.data("index")-1);if("function"==typeof e.beforeMove&&e.beforeMove(d.data("index")),d.removeClass("active"),f.addClass("active"),e.pagination===!0&&(a(".onepage-pagination li a[data-index='"+c+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+f.data("index")+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+f.data("index")),window.history.replaceState&&e.updateURL===!0){var i=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(c-1);window.history.pushState({},window.document.title,i)}b.transformPage(e,g,c)},f.addClass("onepage-wrapper").css("position","relative"),a.each(g,function(b){a(this).css({position:"absolute",top:i+"%"}).addClass("section").attr("data-index",b+1),i+=100,e.pagination===!0&&(l+="<li><a data-index='"+(b+1)+"' href='#"+(b+1)+"'></a></li>")}),f.swipeEvents().bind("swipeDown",function(){f.moveUp()}).bind("swipeUp",function(){f.moveDown()}),e.pagination===!0){a("<ul class='onepage-pagination'>"+l+"</ul>").prependTo("body");var m=-1*(f.find(".onepage-pagination").height()/2);f.find(".onepage-pagination").css("margin-top",m)}if(""!==window.location.hash&&"#1"!==window.location.hash){var n=window.location.hash.replace("#","");a(e.sectionContainer+"[data-index='"+n+"']").addClass("active"),a("body").addClass("viewing-page-"+n),e.pagination===!0&&a(".onepage-pagination li a[data-index='"+n+"']").addClass("active");var o=a(e.sectionContainer+"[data-index='"+n+"']");if(o&&(o.addClass("active"),e.pagination===!0&&a(".onepage-pagination li a[data-index='"+n+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+o.data("index")),window.history.replaceState&&e.updateURL===!0)){var p=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+n;window.history.pushState({},window.document.title,p)}var q=-1*100*(n-1);f.transformPage(e,q,n)}else a(e.sectionContainer+"[data-index='1']").addClass("active"),a("body").addClass("viewing-page-1"),e.pagination===!0&&a(".onepage-pagination li a[data-index='1']").addClass("active");return e.pagination===!0&&a(".onepage-pagination li a").click(function(){var b=a(this).data("index");if(!a(this).hasClass("active")){var c,d;c=a(e.sectionContainer+".active"),d=a(e.sectionContainer+"[data-index='"+b+"']"),d&&(c.removeClass("active"),d.addClass("active"),a(".onepage-pagination li a.active").removeClass("active"),a(".onepage-pagination li a[data-index='"+b+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+d.data("index"))),q=-1*100*(b-1),f.transformPage(e,q,b)}return e.updateURL===!1?!1:void 0}),a(window.document).bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail;d(a,b)}),e.keyboard===!0&&a(window.document).keydown(function(a){var b=a.target.tagName.toLowerCase();switch(a.which){case 38:"input"!==b&&"textarea"!==b&&f.moveUp();break;case 40:"input"!==b&&"textarea"!==b&&f.moveDown();break;default:return}a.preventDefault()}),!1}}(jQuery);