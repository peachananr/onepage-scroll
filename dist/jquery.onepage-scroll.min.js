!function(a,b){"use strict";var c={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,touchEnabled:!0,mousewheelEnabled:!0,keyboard:!0,beforeMove:null,afterMove:null,loop:!1};a.fn.swipeEvents=function(){return this.each(function(){function b(a){var b=a.originalEvent.touches;b&&b.length&&(d=b[0].pageX,e=b[0].pageY,f.bind("touchmove",c)),a.preventDefault()}function c(a){var b=a.originalEvent.touches;if(b&&b.length){var g=d-b[0].pageX,h=e-b[0].pageY,i=50;g>=i&&f.trigger("swipeLeft"),-i>=g&&f.trigger("swipeRight"),h>=i&&f.trigger("swipeUp"),-i>=h&&f.trigger("swipeDown"),(Math.abs(g)>=i||Math.abs(h)>=i)&&f.unbind("touchmove",c)}a.preventDefault()}var d,e,f=a(this);f.bind("touchstart",b)})},a.fn.onepage_scroll=function(d){function e(a){l.removeClass("active").filter("[data-index='"+a+"']").addClass("active")}function f(a){p[0].className=p[0].className.replace(/\bviewing-page-\d.*?\b/g,""),p.addClass("viewing-page-"+a)}function g(a){if(window.history.replaceState&&m.updateURL===!0){var b=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+a;window.history.pushState({},window.document.title,b)}}function h(){return o.filter(".active").data("index")}function i(){return o.filter(".active")}function j(a){return o.filter("[data-index='"+a+"']")}function k(a,b){var c=b,d=(new Date).getTime();return d-s<t+m.animationTime?(a.preventDefault(),void 0):(0>c?n.moveDown():n.moveUp(),s=d,void 0)}var l,m=a.extend({},c,d),n=a(this),o=a(m.sectionContainer),p=a("body"),q=o.length,r=0,s=0,t=500,u="";if(n.bind("beforeMove",function(a,b,c){m.pagination===!0&&e(c),f(b),g(b),"function"==typeof m.beforeMove&&m.beforeMove(b,c)}),n.bind("afterMove",function(a,b,c){"function"==typeof m.afterMove&&m.afterMove(b,c)}),a.fn.transformPage=function(a,c,d,e){n.trigger("beforeMove",[d,e]),b.csstransitions?n.css({"-webkit-transform":"translate3d(0, "+c+"%, 0)","-webkit-transition":"all "+a.animationTime+"ms "+a.easing,"-moz-transform":"translate3d(0, "+c+"%, 0)","-moz-transition":"all "+a.animationTime+"ms "+a.easing,"-ms-transform":"translate3d(0, "+c+"%, 0)","-ms-transition":"all "+a.animationTime+"ms "+a.easing,transform:"translate3d(0, "+c+"%, 0)",transition:"all "+a.animationTime+"ms "+a.easing}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n.trigger("afterMove",[d,e])}):n.animate({top:c+"%"},a.animationTime,"swing",function(){n.trigger("afterMove",[d,e])})},a.fn.moveTo=function(a){var b,c,d,e;b=h(),b!==a&&(m.loop===!0&&(a=(a-1+q)%q+1),d=j(a),d.length&&(e=100*(1-a),c=i(),c.removeClass("active"),d.addClass("active"),n.transformPage(m,e,b,a)))},a.fn.move=function(a){var b=o.filter(".active").data("index");"up"===a?b-=1:b+=1,n.moveTo(b)},a.fn.moveDown=function(){n.move("down")},a.fn.moveUp=function(){n.move("up")},n.addClass("onepage-wrapper").css("position","relative"),a.each(o,function(b){a(this).css({position:"absolute",top:r+"%"}).addClass("section").attr("data-index",b+1),r+=100,m.pagination===!0&&(u+="<li><a data-index='"+(b+1)+"' href='#"+(b+1)+"'></a></li>")}),m.touchEnabled===!0&&n.swipeEvents().bind("swipeDown",function(){n.moveUp()}).bind("swipeUp",function(){n.moveDown()}),m.pagination===!0){a("<ul class='onepage-pagination'>"+u+"</ul>").prependTo("body");var v=-1*(n.find(".onepage-pagination").height()/2);n.find(".onepage-pagination").css("margin-top",v),l=a(".onepage-pagination li a")}if(""!==window.location.hash&&"#1"!==window.location.hash){var w=window.location.hash.replace("#",""),x=o.filter("[data-index='"+w+"']");x&&g(w),n.moveTo(w)}else j(1).addClass("active"),f(1),m.pagination===!0&&e(1);return m.pagination===!0&&l.click(function(b){var c=a(this).data("index");a(this).hasClass("active")||n.moveTo(c),m.updateURL===!1&&b.preventDefault()}),m.mousewheelEnabled===!0&&n.bind("mousewheel DOMMouseScroll",function(a){if("SELECT"!==a.target.tagName){a.preventDefault();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail;k(a,b)}}),m.keyboard===!0&&a(window.document).keydown(function(a){var b=a.target.tagName.toLowerCase();switch(a.which){case 38:"input"!==b&&"textarea"!==b&&n.moveUp();break;case 40:"input"!==b&&"textarea"!==b&&n.moveDown();break;default:return}a.preventDefault()}),this}}(jQuery,window.Modernizr);