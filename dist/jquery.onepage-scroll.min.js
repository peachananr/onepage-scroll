!function(a){"use strict";var b={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1};a.fn.swipeEvents=function(){return this.each(function(){function b(a){var b=a.originalEvent.touches;b&&b.length&&(d=b[0].pageX,e=b[0].pageY,f.bind("touchmove",c)),a.preventDefault()}function c(a){var b=a.originalEvent.touches;if(b&&b.length){var g=d-b[0].pageX,h=e-b[0].pageY,i=50;g>=i&&f.trigger("swipeLeft"),-i>=g&&f.trigger("swipeRight"),h>=i&&f.trigger("swipeUp"),-i>=h&&f.trigger("swipeDown"),(Math.abs(g)>=i||Math.abs(h)>=i)&&f.unbind("touchmove",c)}a.preventDefault()}var d,e,f=a(this);f.bind("touchstart",b)})},a.fn.onepage_scroll=function(c){function d(a,b){var c=b,d=(new Date).getTime();return d-l<m+f.animationTime?(a.preventDefault(),void 0):(0>c?g.moveDown():g.moveUp(),l=d,void 0)}var e,f=a.extend({},b,c),g=a(this),h=a(f.sectionContainer),i=a("body"),j=h.length,k=0,l=0,m=500,n="";if(a.fn.transformPage=function(a,b,c){g.css({"-webkit-transform":"translate3d(0, "+b+"%, 0)","-webkit-transition":"all "+a.animationTime+"ms "+a.easing,"-moz-transform":"translate3d(0, "+b+"%, 0)","-moz-transition":"all "+a.animationTime+"ms "+a.easing,"-ms-transform":"translate3d(0, "+b+"%, 0)","-ms-transition":"all "+a.animationTime+"ms "+a.easing,transform:"translate3d(0, "+b+"%, 0)",transition:"all "+a.animationTime+"ms "+a.easing}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){"function"==typeof a.afterMove&&a.afterMove(c)})},a.fn.moveTo=function(a){var b,c,d,k;if(b=h.filter(".active").data("index"),c=h.filter("[data-index='"+b+"']"),f.loop===!0&&(a=(a-1+j)%j+1),d=h.filter("[data-index='"+a+"']"),d.length){if(k=100*(1-a),"function"==typeof f.beforeMove&&f.beforeMove(c.data("index")),c.removeClass("active"),d.addClass("active"),f.pagination===!0&&(e.filter("[data-index='"+b+"']").removeClass("active"),e.filter("[data-index='"+a+"']").addClass("active")),i[0].className=i[0].className.replace(/\bviewing-page-\d.*?\b/g,""),i.addClass("viewing-page-"+a),window.history.replaceState&&f.updateURL===!0){var l=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+a;window.history.pushState({},window.document.title,l)}g.transformPage(f,k,b)}},a.fn.move=function(a){var b=h.filter(".active").data("index");"up"===a?b-=1:b+=1,g.moveTo(b)},a.fn.moveDown=function(){g.move("down")},a.fn.moveUp=function(){g.move("up")},g.addClass("onepage-wrapper").css("position","relative"),a.each(h,function(b){a(this).css({position:"absolute",top:k+"%"}).addClass("section").attr("data-index",b+1),k+=100,f.pagination===!0&&(n+="<li><a data-index='"+(b+1)+"' href='#"+(b+1)+"'></a></li>")}),g.swipeEvents().bind("swipeDown",function(){g.moveUp()}).bind("swipeUp",function(){g.moveDown()}),f.pagination===!0){a("<ul class='onepage-pagination'>"+n+"</ul>").prependTo("body");var o=-1*(g.find(".onepage-pagination").height()/2);g.find(".onepage-pagination").css("margin-top",o),e=a(".onepage-pagination li a")}if(""!==window.location.hash&&"#1"!==window.location.hash){var p=window.location.hash.replace("#",""),q=h.filter("[data-index='"+p+"']");if(q&&window.history.replaceState&&f.updateURL===!0){var r=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+p;window.history.pushState({},window.document.title,r)}g.moveTo(p)}else h.filter("[data-index='1']").addClass("active"),i.addClass("viewing-page-1"),f.pagination===!0&&e.filter("[data-index='1']").addClass("active");return f.pagination===!0&&e.click(function(){var b=a(this).data("index");if(!a(this).hasClass("active")){var c,d;c=h.filter(".active"),d=h.filter("[data-index='"+b+"']"),d&&(c.removeClass("active"),d.addClass("active"),e.filter(".active").removeClass("active"),e.filter("[data-index='"+b+"']").addClass("active"),i[0].className=i[0].className.replace(/\bviewing-page-\d.*?\b/g,""),i.addClass("viewing-page-"+d.data("index"))),g.moveTo(b)}return f.updateURL===!1?!1:void 0}),a(window.document).bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail;d(a,b)}),f.keyboard===!0&&a(window.document).keydown(function(a){var b=a.target.tagName.toLowerCase();switch(a.which){case 38:"input"!==b&&"textarea"!==b&&g.moveUp();break;case 40:"input"!==b&&"textarea"!==b&&g.moveDown();break;default:return}a.preventDefault()}),!1}}(jQuery);