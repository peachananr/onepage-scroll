!function(a){var b={sectionContainer:"section",easing:"ease",animationTime:1000,pagination:true,updateURL:false,keyboard:true,beforeMove:null,afterMove:null,loop:true,responsiveFallback:false,direction:"vertical",scrollEvents:true};a.fn.swipeEvents=function(){return this.each(function(){var e,c,f=a(this);f.bind("touchstart",g);function g(h){var i=h.originalEvent.touches;if(i&&i.length){e=i[0].pageX;c=i[0].pageY;f.bind("touchmove",d)}}function d(j){var k=j.originalEvent.touches;if(k&&k.length){var i=e-k[0].pageX;var h=c-k[0].pageY;if(i>=50){f.trigger("swipeLeft")}if(i<=-50){f.trigger("swipeRight")}if(h>=50){f.trigger("swipeUp")}if(h<=-50){f.trigger("swipeDown")}if(Math.abs(i)>=50||Math.abs(h)>=50){f.unbind("touchmove",d)}}}})};a.fn.onepage_scroll=function(d){var f=a.extend({},b,d),e=a(this),i=a(f.sectionContainer);total=i.length,status="off",topPos=0,leftPos=0,lastAnimation=0,quietPeriod=500,paginationList="";a.fn.transformPage=function(k,m,j){if(typeof k.beforeMove=="function"){k.beforeMove(j)}if(a("html").hasClass("ie8")){if(k.direction=="horizontal"){var l=(e.width()/100)*m;a(this).animate({left:l+"px"},k.animationTime)}else{var l=(e.height()/100)*m;a(this).animate({top:l+"px"},k.animationTime)}}else{a(this).css({"-webkit-transform":(k.direction=="horizontal")?"translate3d("+m+"%, 0, 0)":"translate3d(0, "+m+"%, 0)","-webkit-transition":"all "+k.animationTime+"ms "+k.easing,"-moz-transform":(k.direction=="horizontal")?"translate3d("+m+"%, 0, 0)":"translate3d(0, "+m+"%, 0)","-moz-transition":"all "+k.animationTime+"ms "+k.easing,"-ms-transform":(k.direction=="horizontal")?"translate3d("+m+"%, 0, 0)":"translate3d(0, "+m+"%, 0)","-ms-transition":"all "+k.animationTime+"ms "+k.easing,transform:(k.direction=="horizontal")?"translate3d("+m+"%, 0, 0)":"translate3d(0, "+m+"%, 0)",transition:"all "+k.animationTime+"ms "+k.easing})}a(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(n){if(typeof k.afterMove=="function"){k.afterMove(j)}})};a.fn.moveDown=function(){var k=a(this);index=a(f.sectionContainer+".active").data("index");current=a(f.sectionContainer+"[data-index='"+index+"']");next=a(f.sectionContainer+"[data-index='"+(index+1)+"']");if(next.length<1){if(f.loop==true){pos=0;next=a(f.sectionContainer+"[data-index='1']")}else{return}}else{pos=(index*100)*-1}if(typeof f.beforeMove=="function"){f.beforeMove(next.data("index"))}current.removeClass("active");next.addClass("active");if(f.pagination==true){a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active");a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")}a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&f.updateURL==true){var j=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,j)}k.transformPage(f,pos,next.data("index"))};a.fn.moveUp=function(){var k=a(this);index=a(f.sectionContainer+".active").data("index");current=a(f.sectionContainer+"[data-index='"+index+"']");next=a(f.sectionContainer+"[data-index='"+(index-1)+"']");if(next.length<1){if(f.loop==true){pos=((total-1)*100)*-1;next=a(f.sectionContainer+"[data-index='"+total+"']")}else{return}}else{pos=((next.data("index")-1)*100)*-1}if(typeof f.beforeMove=="function"){f.beforeMove(next.data("index"))}current.removeClass("active");next.addClass("active");if(f.pagination==true){a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active");a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")}a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&f.updateURL==true){var j=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,j)}k.transformPage(f,pos,next.data("index"))};a.fn.moveTo=function(k){current=a(f.sectionContainer+".active");next=a(f.sectionContainer+"[data-index='"+(k)+"']");if(next.length>0){if(typeof f.beforeMove=="function"){f.beforeMove(next.data("index"))}current.removeClass("active");next.addClass("active");a(".onepage-pagination li a.active").removeClass("active");a(".onepage-pagination li a[data-index='"+(k)+"']").addClass("active");a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));pos=((k-1)*100)*-1;if(history.replaceState&&f.updateURL==true){var j=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(k-1);history.pushState({},document.title,j)}e.transformPage(f,pos,k)}};function g(){var k=false;var j=typeof f.responsiveFallback;if(j=="number"){k=a(window).width()<f.responsiveFallback}if(j=="boolean"){k=f.responsiveFallback}if(j=="function"){valFunction=f.responsiveFallback();k=valFunction;typeOFv=typeof k;if(typeOFv=="number"){k=a(window).width()<valFunction}}if(k){a("body").addClass("disabled-onepage-scroll");if(f.scrollEvents==true){a(document).unbind("mousewheel DOMMouseScroll MozMousePixelScroll");e.swipeEvents().unbind("swipeDown swipeUp")}}else{if(a("body").hasClass("disabled-onepage-scroll")){a("body").removeClass("disabled-onepage-scroll");a("html, body, .wrapper").animate({scrollTop:0},"fast")}if(f.scrollEvents==true){e.swipeEvents().bind("swipeDown",function(l){if(!a("body").hasClass("disabled-onepage-scroll")){l.preventDefault()}e.moveUp()}).bind("swipeUp",function(l){if(!a("body").hasClass("disabled-onepage-scroll")){l.preventDefault()}e.moveDown()});a(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(l){l.preventDefault();var m=l.originalEvent.wheelDelta||-l.originalEvent.detail;h(l,m)})}}}function h(k,l){deltaOfInterest=l;var j=new Date().getTime();if(j-lastAnimation<quietPeriod+f.animationTime){k.preventDefault();return}if(deltaOfInterest<0){e.moveDown()}else{e.moveUp()}lastAnimation=j}e.addClass("onepage-wrapper").css("position","relative");a.each(i,function(j){a(this).css({position:"absolute",top:topPos+"%"}).addClass("section").attr("data-index",j+1);a(this).css({position:"absolute",left:(f.direction=="horizontal")?leftPos+"%":0,top:(f.direction=="vertical"||f.direction!="horizontal")?topPos+"%":0});if(f.direction=="horizontal"){leftPos=leftPos+100}else{topPos=topPos+100}if(f.pagination==true){paginationList+="<li><a data-index='"+(j+1)+"' href='#"+(j+1)+"'></a></li>"}});if(f.scrollEvents==true){e.swipeEvents().bind("swipeDown",function(j){if(!a("body").hasClass("disabled-onepage-scroll")){j.preventDefault()}e.moveUp()}).bind("swipeUp",function(j){if(!a("body").hasClass("disabled-onepage-scroll")){j.preventDefault()}e.moveDown()})}if(f.pagination==true){if(a("ul.onepage-pagination").length<1){a("<ul class='onepage-pagination'></ul>").prependTo("body")}if(f.direction=="horizontal"){posLeft=(e.find(".onepage-pagination").width()/2)*-1;e.find(".onepage-pagination").css("margin-left",posLeft)}else{posTop=(e.find(".onepage-pagination").height()/2)*-1;e.find(".onepage-pagination").css("margin-top",posTop)}a("ul.onepage-pagination").html(paginationList)}if(window.location.hash!=""&&window.location.hash!="#1"){init_index=window.location.hash.replace("#","");if(parseInt(init_index)<=total&&parseInt(init_index)>0){a(f.sectionContainer+"[data-index='"+init_index+"']").addClass("active");a("body").addClass("viewing-page-"+init_index);if(f.pagination==true){a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active")}next=a(f.sectionContainer+"[data-index='"+(init_index)+"']");if(next){next.addClass("active");if(f.pagination==true){a(".onepage-pagination li a[data-index='"+(init_index)+"']").addClass("active")}a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,"");a("body").addClass("viewing-page-"+next.data("index"));if(history.replaceState&&f.updateURL==true){var c=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(init_index);history.pushState({},document.title,c)}}pos=((init_index-1)*100)*-1;e.transformPage(f,pos,init_index)}else{a(f.sectionContainer+"[data-index='1']").addClass("active");a("body").addClass("viewing-page-1");if(f.pagination==true){a(".onepage-pagination li a[data-index='1']").addClass("active")}}}else{a(f.sectionContainer+"[data-index='1']").addClass("active");a("body").addClass("viewing-page-1");if(f.pagination==true){a(".onepage-pagination li a[data-index='1']").addClass("active")}}if(f.pagination==true){a(".onepage-pagination li a").click(function(){var j=a(this).data("index");e.moveTo(j)})}if(f.scrollEvents==true){a(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(j){j.preventDefault();var k=j.originalEvent.wheelDelta||-j.originalEvent.detail;if(!a("body").hasClass("disabled-onepage-scroll")){h(j,k)}})}if(f.responsiveFallback!=false){a(window).resize(function(){g()});g()}if(f.keyboard==true){a(document).keydown(function(k){var j=k.target.tagName.toLowerCase();if(!a("body").hasClass("disabled-onepage-scroll")){switch(k.which){case 38:if(j!="input"&&j!="textarea"){e.moveUp()}break;case 40:if(j!="input"&&j!="textarea"){e.moveDown()}break;case 32:if(j!="input"&&j!="textarea"){e.moveDown()}break;case 33:if(j!="input"&&j!="textarea"){e.moveUp()}break;case 34:if(j!="input"&&j!="textarea"){e.moveDown()}break;case 36:e.moveTo(1);break;case 35:e.moveTo(total);break;default:return}}})}return false}}(window.jQuery);
