!function(a){var e={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1};a.fn.swipeEvents=function(){return this.each(function(){function e(a){var e=a.originalEvent.touches;e&&e.length&&(n=e[0].pageX,t=e[0].pageY,o.bind("touchmove",i)),a.preventDefault()}function i(a){var e=a.originalEvent.touches;if(e&&e.length){var s=n-e[0].pageX,d=t-e[0].pageY;s>=50&&o.trigger("swipeLeft"),-50>=s&&o.trigger("swipeRight"),d>=50&&o.trigger("swipeUp"),-50>=d&&o.trigger("swipeDown"),(Math.abs(s)>=50||Math.abs(d)>=50)&&o.unbind("touchmove",i)}a.preventDefault()}var n,t,o=a(this);o.bind("touchstart",e)})},a.fn.onepage_scroll=function(i){function n(a,e){deltaOfInterest=e;var i=(new Date).getTime();return i-lastAnimation<quietPeriod+t.animationTime?(a.preventDefault(),void 0):(0>deltaOfInterest?o.moveDown():o.moveUp(),lastAnimation=i,void 0)}var t=a.extend({},e,i),o=a(this),s=a(t.sectionContainer);if(total=s.length,status="off",topPos=0,lastAnimation=0,quietPeriod=500,paginationList="",a.fn.transformPage=function(e,i){a(this).css({"-webkit-transform":"translate3d(0, "+i+"%, 0)","-webkit-transition":"all "+e.animationTime+"ms "+e.easing,"-moz-transform":"translate3d(0, "+i+"%, 0)","-moz-transition":"all "+e.animationTime+"ms "+e.easing,"-ms-transform":"translate3d(0, "+i+"%, 0)","-ms-transition":"all "+e.animationTime+"ms "+e.easing,transform:"translate3d(0, "+i+"%, 0)",transition:"all "+e.animationTime+"ms "+e.easing})},a.fn.moveDown=function(){var e=a(this);if(index=a(t.sectionContainer+".active").data("index"),total>index){if(current=a(t.sectionContainer+"[data-index='"+index+"']"),next=a(t.sectionContainer+"[data-index='"+(index+1)+"']"),next&&(current.removeClass("active"),next.addClass("active"),1==t.pagination&&(a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+(index+1)+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==t.updateURL)){var i=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,i)}pos=-1*100*index,e.transformPage(t,pos)}},a.fn.moveUp=function(){var e=a(this);if(index=a(t.sectionContainer+".active").data("index"),total>=index&&index>1){if(current=a(t.sectionContainer+"[data-index='"+index+"']"),next=a(t.sectionContainer+"[data-index='"+(index-1)+"']"),next&&(current.removeClass("active"),next.addClass("active"),1==t.pagination&&(a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+(index-1)+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==t.updateURL)){var i=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,i)}pos=-1*100*(next.data("index")-1),e.transformPage(t,pos)}},o.addClass("onepage-wrapper").css("position","relative"),a.each(s,function(e){a(this).css({position:"absolute",top:topPos+"%"}).addClass("section").attr("data-index",e+1),topPos+=100,1==t.pagination&&(paginationList+="<li><a data-index='"+(e+1)+"' href='#"+(e+1)+"'></a></li>")}),o.swipeEvents().bind("swipeDown",function(){o.moveUp()}).bind("swipeUp",function(){o.moveDown()}),1==t.pagination&&(a("<ul class='onepage-pagination'>"+paginationList+"</ul>").prependTo("body"),posTop=-1*(o.find(".onepage-pagination").height()/2),o.find(".onepage-pagination").css("margin-top",posTop)),""!=window.location.hash&&"#1"!=window.location.hash){if(init_index=window.location.hash.replace("#",""),a(t.sectionContainer+"[data-index='"+init_index+"']").addClass("active"),a("body").addClass("viewing-page-"+init_index),1==t.pagination&&a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),next=a(t.sectionContainer+"[data-index='"+init_index+"']"),next&&(next.addClass("active"),1==t.pagination&&a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==t.updateURL)){var d=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,d)}pos=-1*100*(init_index-1),o.transformPage(t,pos)}else a(t.sectionContainer+"[data-index='1']").addClass("active"),a("body").addClass("viewing-page-1"),1==t.pagination&&a(".onepage-pagination li a[data-index='1']").addClass("active");return 1==t.pagination&&a(".onepage-pagination li a").click(function(){var e=a(this).data("index");return a(this).hasClass("active")||(current=a(t.sectionContainer+".active"),next=a(t.sectionContainer+"[data-index='"+e+"']"),next&&(current.removeClass("active"),next.addClass("active"),a(".onepage-pagination li a.active").removeClass("active"),a(".onepage-pagination li a[data-index='"+e+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index"))),pos=-1*100*(e-1),o.transformPage(t,pos)),0==t.updateURL?!1:void 0}),a(document).on("keydown",function(a){var e=38,i=40,t=a.keyCode==e,o=a.keyCode==i;if(t||o){a.preventDefault();var s=t?1:o?-1:0;n(a,s)}}),a(document).bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var e=a.originalEvent.wheelDelta||-a.originalEvent.detail;n(a,e)}),!1}}(window.jQuery);