!function(a){"use strict";var b={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1};a.fn.swipeEvents=function(){return this.each(function(){function b(a){var b=a.originalEvent.touches;b&&b.length&&(d=b[0].pageX,e=b[0].pageY,f.bind("touchmove",c)),a.preventDefault()}function c(a){var b=a.originalEvent.touches;if(b&&b.length){var g=d-b[0].pageX,h=e-b[0].pageY,i=50;g>=i&&f.trigger("swipeLeft"),-i>=g&&f.trigger("swipeRight"),h>=i&&f.trigger("swipeUp"),-i>=h&&f.trigger("swipeDown"),(Math.abs(g)>=i||Math.abs(h)>=i)&&f.unbind("touchmove",c)}a.preventDefault()}var d,e,f=a(this);f.bind("touchstart",b)})},a.fn.onepage_scroll=function(c){function d(a){k.removeClass("active").filter("[data-index='"+a+"']").addClass("active")}function e(a){o[0].className=o[0].className.replace(/\bviewing-page-\d.*?\b/g,""),o.addClass("viewing-page-"+a)}function f(a){if(window.history.replaceState&&l.updateURL===!0){var b=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+a;window.history.pushState({},window.document.title,b)}}function g(){return n.filter(".active").data("index")}function h(){return n.filter(".active")}function i(a){return n.filter("[data-index='"+a+"']")}function j(a,b){var c=b,d=(new Date).getTime();return d-r<s+l.animationTime?(a.preventDefault(),void 0):(0>c?m.moveDown():m.moveUp(),r=d,void 0)}var k,l=a.extend({},b,c),m=a(this),n=a(l.sectionContainer),o=a("body"),p=n.length,q=0,r=0,s=500,t="";if(m.bind("beforeMove",function(a,b,c){l.pagination===!0&&d(c),e(b),f(b),"function"==typeof l.beforeMove&&l.beforeMove(b,c)}),m.bind("afterMove",function(a,b,c){"function"==typeof l.afterMove&&l.afterMove(b,c)}),a.fn.transformPage=function(a,b,c,d){m.trigger("beforeMove",[c,d]),m.css({"-webkit-transform":"translate3d(0, "+b+"%, 0)","-webkit-transition":"all "+a.animationTime+"ms "+a.easing,"-moz-transform":"translate3d(0, "+b+"%, 0)","-moz-transition":"all "+a.animationTime+"ms "+a.easing,"-ms-transform":"translate3d(0, "+b+"%, 0)","-ms-transition":"all "+a.animationTime+"ms "+a.easing,transform:"translate3d(0, "+b+"%, 0)",transition:"all "+a.animationTime+"ms "+a.easing}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){m.trigger("afterMove",[c,d])})},a.fn.moveTo=function(a){var b,c,d,e;b=g(),l.loop===!0&&(a=(a-1+p)%p+1),d=i(a),d.length&&(e=100*(1-a),c=h(),c.removeClass("active"),d.addClass("active"),m.transformPage(l,e,b,a))},a.fn.move=function(a){var b=n.filter(".active").data("index");"up"===a?b-=1:b+=1,m.moveTo(b)},a.fn.moveDown=function(){m.move("down")},a.fn.moveUp=function(){m.move("up")},m.addClass("onepage-wrapper").css("position","relative"),a.each(n,function(b){a(this).css({position:"absolute",top:q+"%"}).addClass("section").attr("data-index",b+1),q+=100,l.pagination===!0&&(t+="<li><a data-index='"+(b+1)+"' href='#"+(b+1)+"'></a></li>")}),m.swipeEvents().bind("swipeDown",function(){m.moveUp()}).bind("swipeUp",function(){m.moveDown()}),l.pagination===!0){a("<ul class='onepage-pagination'>"+t+"</ul>").prependTo("body");var u=-1*(m.find(".onepage-pagination").height()/2);m.find(".onepage-pagination").css("margin-top",u),k=a(".onepage-pagination li a")}if(""!==window.location.hash&&"#1"!==window.location.hash){var v=window.location.hash.replace("#",""),w=n.filter("[data-index='"+v+"']");w&&f(v),m.moveTo(v)}else i(1).addClass("active"),e(1),l.pagination===!0&&d(1);return l.pagination===!0&&k.click(function(b){var c=a(this).data("index");a(this).hasClass("active")||m.moveTo(c),l.updateURL===!1&&b.preventDefault()}),a(window.document).bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail;j(a,b)}),l.keyboard===!0&&a(window.document).keydown(function(a){var b=a.target.tagName.toLowerCase();switch(a.which){case 38:"input"!==b&&"textarea"!==b&&m.moveUp();break;case 40:"input"!==b&&"textarea"!==b&&m.moveDown();break;default:return}a.preventDefault()}),this}}(jQuery);